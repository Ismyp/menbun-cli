{%- comment -%}
  Teamwear Kalkulator Section - Tischtennis
{%- endcomment -%}

{%- style -%}
  #shopify-section-{{ section.id }} {
    padding-top: {{ section.settings.padding_top }}px;
    padding-bottom: {{ section.settings.padding_bottom }}px;
  }
{%- endstyle -%}

{{ 'teamwear-calculator.css' | asset_url | stylesheet_tag }}
<script
  src="{{ 'teamwear-calculator.js' | asset_url }}"
  defer
></script>

<div class="teamwear-calculator teamwear-calculator--contained teamwear-calculator--tischtennis" 
     data-section="{{ section.id }}"
     data-use-dynamic-discounts="{{ section.settings.use_dynamic_discounts }}"
     data-discount-tiers='{{ section.settings.discount_tiers }}'
     data-max-discount-limit="{{ section.settings.max_discount_limit | default: 25 }}">
  <div class="page-width">
    <div class="teamwear-calculator__inner">
    
    <div class="teamwear-step" data-step="design">
      <h2 class="teamwear-step__title">{{ section.settings.design_title }}</h2>
      {%- if section.settings.design_description != blank -%}
        <p class="teamwear-step__description">{{ section.settings.design_description }}</p>
      {%- endif -%}
      
      <div class="teamwear-designs">
        {%- assign has_designs = false -%}
        {%- for block in section.blocks -%}
          {%- case block.type -%}
            {%- when 'design' -%}
              {%- assign product = block.settings.product -%}
              {%- if product != blank -%}
                {%- assign has_designs = true -%}
                <div class="teamwear-design" data-design-id="{{ block.id }}" {{ block.shopify_attributes }}>
                  <input type="radio" 
                         name="teamwear-design" 
                         id="design-{{ block.id }}" 
                         value="{{ block.id }}"
                         data-product-id="{{ product.selected_or_first_available_variant.id }}"
                         data-product-handle="{{ product.handle }}"
                         data-base-price="{{ product.selected_or_first_available_variant.price | divided_by: 100.0 }}"
                         data-discount-per-tier="{{ block.settings.discount_per_10 | default: 5 }}"
                         data-tier-size="10"
                         data-max-discount="50"
                         class="teamwear-design__input visually-hidden"
                         {% if forloop.first %}checked{% endif %}>
                  <label for="design-{{ block.id }}" class="teamwear-design__label">
                    {%- if product.featured_image != blank -%}
                      <div class="teamwear-design__image-wrapper" data-product-handle="{{ product.handle }}">
                        <div class="teamwear-design__image-slider">
                          {%- if product.images.size > 1 -%}
                            <button type="button" class="teamwear-design__slider-btn teamwear-design__slider-btn--prev" aria-label="Vorheriges Bild" data-slider-action="prev">
                              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M15 18l-6-6 6-6"/>
                              </svg>
                            </button>
                            <button type="button" class="teamwear-design__slider-btn teamwear-design__slider-btn--next" aria-label="N√§chstes Bild" data-slider-action="next">
                              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M9 18l6-6-6-6"/>
                              </svg>
                            </button>
                          {%- endif -%}
                          <div class="teamwear-design__image-container">
                            {%- for image in product.images -%}
                              <img class="teamwear-design__image {% unless forloop.first %}visually-hidden{% endunless %}" 
                                   src="{{ image | image_url: width: 400 }}" 
                                   alt="{{ product.title | escape }}"
                                   loading="{% if forloop.first %}lazy{% else %}eager{% endif %}"
                                   data-image-index="{{ forloop.index0 }}"
                                   width="400"
                                   height="{{ 400 | divided_by: image.aspect_ratio | round }}">
                            {%- endfor -%}
                          </div>
                        </div>
                      </div>
                    {%- endif -%}
                    <h3 class="teamwear-design__name">
                      {%- if block.settings.name != blank -%}
                        {{ block.settings.name }}
                      {%- else -%}
                        {{ product.title }}
                      {%- endif -%}
                    </h3>
                    <div class="teamwear-design__price">
                      {{ product.selected_or_first_available_variant.price | money }}
                      <span class="teamwear-design__price-note">{{ section.settings.price_note }}</span>
                    </div>
                    {%- if block.settings.discount_per_10 > 0 -%}
                      <div class="teamwear-design__discount-info">
                        {{ block.settings.discount_per_10 }}% Rabatt pro 10 {{ section.settings.unit }}
                      </div>
                    {%- endif -%}
                  </label>
                </div>
              {%- endif -%}
          {%- endcase -%}
        {%- endfor -%}
        
        {%- if has_designs == false and section.settings.fallback_product != blank -%}
          {%- assign fallback_product = section.settings.fallback_product -%}
          <div class="teamwear-design" data-design-id="fallback">
            <input type="radio" 
                   name="teamwear-design" 
                   id="design-fallback" 
                   value="fallback"
                                  data-product-id="{{ fallback_product.selected_or_first_available_variant.id }}"
               data-product-handle="{{ fallback_product.handle }}"
               data-base-price="{{ fallback_product.selected_or_first_available_variant.price | divided_by: 100.0 }}"
                   data-discount-per-tier="{{ section.settings.fallback_discount_per_tier | default: 5 }}"
                   data-tier-size="10"
                   data-max-discount="50"
                   class="teamwear-design__input visually-hidden"
                   checked>
            <label for="design-fallback" class="teamwear-design__label">
              {%- if fallback_product.featured_image != blank -%}
                <div class="teamwear-design__image-wrapper" data-product-handle="{{ fallback_product.handle }}">
                  <div class="teamwear-design__image-slider">
                    {%- if fallback_product.images.size > 1 -%}
                      <button type="button" class="teamwear-design__slider-btn teamwear-design__slider-btn--prev" aria-label="Vorheriges Bild" data-slider-action="prev">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                          <path d="M15 18l-6-6 6-6"/>
                        </svg>
                      </button>
                      <button type="button" class="teamwear-design__slider-btn teamwear-design__slider-btn--next" aria-label="N√§chstes Bild" data-slider-action="next">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                          <path d="M9 18l6-6-6-6"/>
                        </svg>
                      </button>
                    {%- endif -%}
                    <div class="teamwear-design__image-container">
                      {%- for image in fallback_product.images -%}
                        <img class="teamwear-design__image {% unless forloop.first %}visually-hidden{% endunless %}" 
                             src="{{ image | image_url: width: 400 }}" 
                             alt="{{ fallback_product.title | escape }}"
                             loading="{% if forloop.first %}lazy{% else %}eager{% endif %}"
                             data-image-index="{{ forloop.index0 }}"
                             width="400"
                             height="{{ 400 | divided_by: image.aspect_ratio | round }}">
                      {%- endfor -%}
                    </div>
                  </div>
                </div>
              {%- endif -%}
              <h3 class="teamwear-design__name">{{ fallback_product.title }}</h3>
              <div class="teamwear-design__price">
                {{ fallback_product.selected_or_first_available_variant.price | money }}
                <span class="teamwear-design__price-note">{{ section.settings.price_note }}</span>
              </div>
              {%- if section.settings.fallback_discount_per_tier > 0 -%}
                <div class="teamwear-design__discount-info">
                  {{ section.settings.fallback_discount_per_tier }}% Rabatt pro 10 {{ section.settings.unit }}
                </div>
              {%- endif -%}
            </label>
          </div>
        {%- endif -%}
        
        {%- if has_designs == false and section.settings.fallback_product == blank -%}
          <div class="teamwear-placeholder" style="text-align: center; padding: 2rem; border: 2px dashed #ddd; border-radius: 8px; background: #fafafa;">
            <h3>üèì Tischtennis-Designs hinzuf√ºgen</h3>
            <p class="teamwear-placeholder-text" style="margin: 1rem 0;">
              F√ºge Tischtennis-Design-Blocks im Theme Editor hinzu.
            </p>
          </div>
        {%- endif -%}
      </div>
    </div>
    
    <div class="teamwear-step" data-step="color">
      <h2 class="teamwear-step__title">{{ section.settings.color_title }}</h2>
      {%- if section.settings.color_description != blank -%}
        <p class="teamwear-step__description">{{ section.settings.color_description }}</p>
      {%- endif -%}
      
      <div class="teamwear-color-selection" style="display: none;">
        <div class="teamwear-color-preview">
          <div class="teamwear-color-preview__image-wrapper">
            <img class="teamwear-color-preview__image" 
                 alt="" 
                 loading="lazy"
                 width="600"
                 height="600"
                 data-color-preview>
          </div>
        </div>
        <div class="teamwear-color-options">
          <div class="teamwear-colors">
            <!-- Wird dynamisch per JavaScript bef√ºllt -->
          </div>
    
          {%- comment -%} Anzahl-Feld zwischen Farbe und Team {%- endcomment -%}
          <div class="teamwear-quantity-section" style="display: none;">
            <h3 class="teamwear-quantity-section__title">Anzahl</h3>
            <input type="number" 
                   class="teamwear-quantity-section__input" 
                   min="1"
                   value="10"
                   data-quantity-input>
          </div>
          
          {%- comment -%} Team-Sektion nach Anzahl {%- endcomment -%}
          <div class="teamwear-team-section" style="display: none;">
            <h3 class="teamwear-team-section__title">Team</h3>
            
            <div class="teamwear-team-section__options">
              <label class="teamwear-team-section__checkbox">
                <input type="checkbox" 
                       class="teamwear-team-section__input" 
                       data-team-option="logo"
                       data-price="{{ section.settings.team_logo_price | default: 0 }}">
                <span class="teamwear-team-section__checkbox-label">
                  {{ section.settings.team_logo_text | default: 'Logo hinzuf√ºgen' }}
                  {%- if section.settings.team_logo_price > 0 -%}
                    <span class="teamwear-team-section__price">({{ section.settings.team_logo_price | times: 100 | money }} pro Stk.)</span>
                  {%- endif -%}
                </span>
              </label>
              
              <label class="teamwear-team-section__checkbox">
                <input type="checkbox" 
                       class="teamwear-team-section__input" 
                       data-team-option="teamname"
                       data-price="{{ section.settings.team_name_price | default: 0 }}">
                <span class="teamwear-team-section__checkbox-label">
                  {{ section.settings.team_name_text | default: 'Teamname' }}
                  {%- if section.settings.team_name_price > 0 -%}
                    <span class="teamwear-team-section__price">({{ section.settings.team_name_price | times: 100 | money }} pro Stk.)</span>
                  {%- endif -%}
                </span>
              </label>
            </div>
            
            {%- comment -%} Logo Upload {%- endcomment -%}
            <div class="teamwear-team-section__logo-upload" style="display: none;">
              <label class="teamwear-team-section__file-label">
                <input type="file" 
                       class="teamwear-team-section__file-input" 
                       accept="image/*"
                       data-team-logo>
                <span class="teamwear-team-section__file-button">Datei ausw√§hlen</span>
                <span class="teamwear-team-section__file-name">Keine ausgew√§hlt</span>
              </label>
            </div>
      
            {%- comment -%} Teamname Input {%- endcomment -%}
            <div class="teamwear-team-section__teamname-input" style="display: none;">
              <input type="text" 
                     class="teamwear-team-section__text-input" 
                     placeholder="Teamname eingeben"
                     data-team-name>
            </div>
          </div>
        </div>
      </div>
      
      <div class="teamwear-colors__placeholder">
        <p class="teamwear-placeholder-text">W√§hle zuerst ein Design aus.</p>
      </div>
    </div>
    
    {%- comment -%} Step 3: Personalisierung und Gr√∂√üen {%- endcomment -%}
    {%- if section.settings.enable_personalization -%}
      <div class="teamwear-step" data-step="personalization">
        <h2 class="teamwear-step__title">
          {{ section.settings.personalization_title }}
        </h2>
        {%- if section.settings.personalization_description != blank -%}
          <p class="teamwear-step__description">{{ section.settings.personalization_description }}</p>
        {%- endif -%}
        
        {%- comment -%} Checkboxen f√ºr Personalisierungsoptionen {%- endcomment -%}
        <div class="teamwear-personalization__options">
          <label class="teamwear-personalization__option-checkbox">
            <input type="checkbox" 
                   class="teamwear-personalization__option-input" 
                   data-personalization-option="number-chest"
                   data-price="{{ section.settings.number_chest_price | default: 0 }}">
            <span>
              {{ section.settings.number_chest_text | default: 'Nummer Brust' }}
              {%- if section.settings.number_chest_price > 0 -%}
                <span class="teamwear-personalization__price">({{ section.settings.number_chest_price | times: 100 | money }} pro Stk.)</span>
              {%- endif -%}
            </span>
          </label>
          
          <label class="teamwear-personalization__option-checkbox">
            <input type="checkbox" 
                   class="teamwear-personalization__option-input" 
                   data-personalization-option="number-back"
                   data-price="{{ section.settings.number_back_price | default: 0 }}">
            <span>
              {{ section.settings.number_back_text | default: 'Nummer R√ºcken' }}
              {%- if section.settings.number_back_price > 0 -%}
                <span class="teamwear-personalization__price">({{ section.settings.number_back_price | times: 100 | money }} pro Stk.)</span>
              {%- endif -%}
            </span>
          </label>
          
          <label class="teamwear-personalization__option-checkbox">
            <input type="checkbox" 
                   class="teamwear-personalization__option-input" 
                   data-personalization-option="playernames"
                   data-price="{{ section.settings.player_names_price | default: 0 }}">
            <span>
              {{ section.settings.player_names_text | default: 'Spielernamen' }}
              {%- if section.settings.player_names_price > 0 -%}
                <span class="teamwear-personalization__price">({{ section.settings.player_names_price | times: 100 | money }} pro Stk.)</span>
              {%- endif -%}
            </span>
          </label>
        </div>
        
        {%- comment -%} Personalisierungs-Tabelle {%- endcomment -%}
        <div class="teamwear-personalization__content">
          <div class="teamwear-personalization__table-wrapper">
            <table class="teamwear-personalization__table">
              <thead>
                <tr>
                  <th>#</th>
                  <th data-col-name>Name</th>
                  <th data-col-number>Nummer</th>
                  <th>Gr√∂√üe</th>
                </tr>
              </thead>
              <tbody class="teamwear-personalization__list" data-players-body>
                <!-- Wird dynamisch √ºber JS bef√ºllt -->
              </tbody>
            </table>
          </div>
        </div>
      </div>
    {%- endif -%}
    
    <div class="teamwear-summary">
      <div class="teamwear-summary__price">
        <span class="teamwear-summary__label">{{ section.settings.total_price_label }}</span>
        <span class="teamwear-summary__amount" data-total-price>{{ 0 | money }}</span>
        <span class="teamwear-summary__details" data-price-details></span>
      </div>
      
      <button type="button" 
              class="teamwear-submit button button--primary"
              disabled>
        {{ section.settings.add_to_cart_text }}
      </button>
      
      <div class="teamwear-messages" role="status" aria-live="polite"></div>
    </div>
    </div>
  </div>
</div>

<script>
  window.teamwearConfig = {
    sectionId: '{{ section.id }}',
    currency: '{{ cart.currency.iso_code }}',
    moneyFormat: {{ shop.money_format | json }},
    defaultQuantity: 10,
    translations: {
      required: {{ 'Ben√∂tigt' | json }},
      total: {{ 'Gesamt' | json }},
      perPiece: {{ 'pro St√ºck' | json }},
      discount: {{ 'Rabatt' | json }},
      basePrice: {{ 'Basispreis' | json }},
      selectDesign: {{ section.settings.error_select_design | json }},
      selectQuantity: {{ section.settings.error_select_quantity | json }},
      correctSizes: {{ section.settings.error_correct_sizes | json }},
      addingToCart: {{ section.settings.adding_to_cart_text | json }},
      addedToCart: {{ section.settings.added_to_cart_text | json }},
      error: {{ section.settings.error_general | json }}
    }
  };
</script>

{% schema %}
{
  "name": "Tischtennis Teamwear",
  "tag": "section",
  "class": "section-teamwear-calculator-tischtennis",
  "settings": [
    {
      "type": "header",
      "content": "Tischtennis-Einstellungen"
    },
    {
      "type": "product",
      "id": "fallback_product",
      "label": "Fallback Tischtennis-Produkt"
    },
    {
      "type": "range",
      "id": "fallback_discount_per_tier",
      "label": "Fallback Rabatt pro Staffel",
      "min": 0,
      "max": 20,
      "step": 1,
      "unit": "%",
      "default": 5
    },
    {
      "type": "header",
      "content": "Design-Auswahl"
    },
    {
      "type": "text",
      "id": "design_title",
      "label": "√úberschrift Design-Auswahl",
      "default": "1. W√§hle dein Tischtennis-Design"
    },
    {
      "type": "text",
      "id": "design_description",
      "label": "Beschreibung Design-Auswahl",
      "default": "W√§hle aus unseren verf√ºgbaren Tischtennis-Designs"
    },
    {
      "type": "text",
      "id": "price_note",
      "label": "Preis-Hinweis",
      "default": "St√ºckpreis"
    },
    {
      "type": "header",
      "content": "Mengenstaffel"
    },
    {
      "type": "text",
      "id": "quantity_title",
      "label": "√úberschrift Mengenstaffel",
      "default": "2. W√§hle die Anzahl"
    },
    {
      "type": "text",
      "id": "quantity_description",
      "label": "Beschreibung Mengenstaffel",
      "default": "Je mehr du bestellst, desto g√ºnstiger wird es!"
    },
    {
      "type": "text",
      "id": "quantities",
      "label": "Verf√ºgbare Mengen",
      "default": "10,20,30,40,50"
    },
    {
      "type": "text",
      "id": "unit",
      "label": "Einheit",
      "default": "St√ºck"
    },
    {
      "type": "header",
      "content": "Gr√∂√üenverteilung"
    },
    {
      "type": "text",
      "id": "sizes_title",
      "label": "√úberschrift Gr√∂√üen",
      "default": "3. Gr√∂√üenverteilung angeben"
    },
    {
      "type": "text",
      "id": "sizes_description",
      "label": "Beschreibung Gr√∂√üen",
      "default": "Gib an, wie viele Tischtennis-Trikots du ben√∂tigst"
    },
    {
      "type": "text",
      "id": "sizes",
      "label": "Verf√ºgbare Gr√∂√üen",
      "default": "XS,S,M,L,XL,XXL"
    },
    {
      "type": "image_picker",
      "id": "size_chart_image",
      "label": "Tischtennis Gr√∂√üentabelle Bild"
    },
    {
      "type": "text",
      "id": "size_chart_button_text",
      "label": "Gr√∂√üentabelle Button-Text",
      "default": "Tischtennis Gr√∂√üentabelle anzeigen"
    },
    {
      "type": "header",
      "content": "Team-Optionen"
    },
    {
      "type": "text",
      "id": "team_logo_text",
      "label": "Logo hinzuf√ºgen Text",
      "default": "Logo hinzuf√ºgen"
    },
    {
      "type": "number",
      "id": "team_logo_price",
      "label": "Logo hinzuf√ºgen Preis (pro St√ºck)",
      "default": 0,
      "info": "Preis in Euro (z.B. 5.00 f√ºr 5,00 ‚Ç¨)"
    },
    {
      "type": "text",
      "id": "team_name_text",
      "label": "Teamname Text",
      "default": "Teamname"
    },
    {
      "type": "number",
      "id": "team_name_price",
      "label": "Teamname Preis (pro St√ºck)",
      "default": 0,
      "info": "Preis in Euro (z.B. 3.00 f√ºr 3,00 ‚Ç¨)"
    },
    {
      "type": "header",
      "content": "Personalisierung"
    },
    {
      "type": "checkbox",
      "id": "enable_personalization",
      "label": "Personalisierung aktivieren",
      "default": true
    },
    {
      "type": "text",
      "id": "personalization_title",
      "label": "√úberschrift Personalisierung",
      "default": "3. Personalisierung und Gr√∂√üen"
    },
    {
      "type": "text",
      "id": "personalization_description",
      "label": "Beschreibung Personalisierung",
      "default": "F√ºge Namen und R√ºckennummern hinzu"
    },
    {
      "type": "text",
      "id": "number_chest_text",
      "label": "Nummer Brust Text",
      "default": "Nummer Brust"
    },
    {
      "type": "number",
      "id": "number_chest_price",
      "label": "Nummer Brust Preis (pro St√ºck)",
      "default": 0,
      "info": "Preis in Euro (z.B. 2.50 f√ºr 2,50 ‚Ç¨)"
    },
    {
      "type": "text",
      "id": "number_back_text",
      "label": "Nummer R√ºcken Text",
      "default": "Nummer R√ºcken"
    },
    {
      "type": "number",
      "id": "number_back_price",
      "label": "Nummer R√ºcken Preis (pro St√ºck)",
      "default": 0,
      "info": "Preis in Euro (z.B. 2.50 f√ºr 2,50 ‚Ç¨)"
    },
    {
      "type": "text",
      "id": "player_names_text",
      "label": "Spielernamen Text",
      "default": "Spielernamen"
    },
    {
      "type": "number",
      "id": "player_names_price",
      "label": "Spielernamen Preis (pro St√ºck)",
      "default": 0,
      "info": "Preis in Euro (z.B. 3.00 f√ºr 3,00 ‚Ç¨)"
    },
    {
      "type": "text",
      "id": "optional_text",
      "label": "Optional-Text",
      "default": "Optional"
    },
    {
      "type": "header",
      "content": "Zusammenfassung & Button"
    },
    {
      "type": "text",
      "id": "total_price_label",
      "label": "Gesamtpreis Label",
      "default": "Gesamtpreis:"
    },
    {
      "type": "text",
      "id": "add_to_cart_text",
      "label": "In den Warenkorb Button-Text",
      "default": "In den Warenkorb"
    },
    {
      "type": "text",
      "id": "adding_to_cart_text",
      "label": "Wird hinzugef√ºgt Text",
      "default": "Wird hinzugef√ºgt..."
    },
    {
      "type": "text",
      "id": "added_to_cart_text",
      "label": "Hinzugef√ºgt Text",
      "default": "Erfolgreich hinzugef√ºgt!"
    },
    {
      "type": "header",
      "content": "Fehlermeldungen"
    },
    {
      "type": "text",
      "id": "error_select_design",
      "label": "Fehler: Design ausw√§hlen",
      "default": "Bitte w√§hle ein Tischtennis-Design aus"
    },
    {
      "type": "text",
      "id": "error_select_quantity",
      "label": "Fehler: Menge ausw√§hlen",
      "default": "Bitte w√§hle eine Menge aus"
    },
    {
      "type": "text",
      "id": "error_correct_sizes",
      "label": "Fehler: Gr√∂√üen korrigieren",
      "default": "Die Summe der Gr√∂√üen muss der gew√§hlten Menge entsprechen"
    },
    {
      "type": "text",
      "id": "error_general",
      "label": "Allgemeiner Fehler",
      "default": "Es ist ein Fehler aufgetreten."
    },
    {
      "type": "header",
      "content": "Abst√§nde"
    },
    {
      "type": "range",
      "id": "padding_top",
      "label": "Abstand oben",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "default": 0
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "label": "Abstand unten",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "default": 0
    },
    {
      "type": "header",
      "content": "üèì Rabatt-System"
    },
    {
      "type": "checkbox",
      "id": "use_dynamic_discounts",
      "label": "Dynamische Rabatt-Tiers aktivieren",
      "info": "Erm√∂glicht individuelle Mengen-Rabatt Konfiguration",
      "default": false
    },
    {
      "type": "textarea",
      "id": "discount_tiers",
      "label": "Rabatt-Tiers (JSON Format)",
      "info": "Beispiel: [{\"quantity\": 4, \"discount\": 8}, {\"quantity\": 8, \"discount\": 15}, {\"quantity\": 12, \"discount\": 22}]",
      "default": "[{\"quantity\": 4, \"discount\": 8}, {\"quantity\": 8, \"discount\": 15}, {\"quantity\": 12, \"discount\": 22}]"
    },
    {
      "type": "range",
      "id": "max_discount_limit",
      "label": "Maximaler Rabatt (%)",
      "min": 0,
      "max": 50,
      "step": 1,
      "unit": "%",
      "default": 25,
      "info": "Sicherheitsgrenze f√ºr maximalen Rabatt"
    }
  ],
  "blocks": [
    {
      "type": "design",
      "name": "Tischtennis Design",
      "settings": [
        {
          "type": "product",
          "id": "product",
          "label": "Tischtennis-Produkt ausw√§hlen"
        },
        {
          "type": "text",
          "id": "name",
          "label": "Custom Design-Name (optional)"
        },
        {
          "type": "range",
          "id": "discount_per_10",
          "label": "Rabatt pro 10 St√ºck",
          "min": 0,
          "max": 20,
          "step": 1,
          "unit": "%",
          "default": 5
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Tischtennis Teamwear",
      "blocks": [
        {
          "type": "design"
        }
      ]
    }
  ]
}
{% endschema %} 